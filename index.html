<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Dank Santa</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css" />
  <script defer src="app.js"></script>
</head>
<body>

  <!-- NAVBAR -->
  <header class="nav">
    <div class="nav-inner">
      <div class="nav-left">
        <div class="nav-logo"></div>
        <div>
          <div class="nav-title glow-text">DANK SANTA</div>
          <div style="font-size:11px; color:var(--muted);">
            Naughty. Nice. <strong>Dank.</strong>
          </div>
        </div>
      </div>

      <nav class="nav-links">
        <a href="#hero">Home</a>
        <a href="#picture-app">PFP Lab</a>
        <a href="#nft-collection">NFTs</a>
        <a href="#wheel-game">Wheel Game</a>
      </nav>

      <div class="nav-right">
        <button class="btn btn-ghost" id="musicToggleBtn">
          <span id="musicDot" class="music-dot paused"></span>
          <span>Holiday vibes</span>
        </button>
        <button class="btn btn-primary" id="connectWalletBtn">
          <span>Connect Wallet</span>
        </button>
        <div class="wallet-status" id="walletStatus">Not connected</div>
      </div>
    </div>
  </header>

  <main class="layout">

    <!-- HERO / INTRO -->
    <section id="hero" class="hero">
      <div class="hero-copy">
        <div class="hero-tag">
          <span>‚ú® Solana</span> ¬∑ <span>Community-powered Christmas chaos</span>
        </div>
        <h1 class="glow-text">
          Take a <span>Picture with Dank Santa</span> &amp; spin the Naughty / Nice / Dank wheel.
        </h1>
        <p>
          $DSANTA is the degen North Pole: custom AI PFPs with Dank Santa, on-chain wheel spins,
          and a festive NFT collection. Connect your wallet, prove you‚Äôre a holder, and join the list.
        </p>

        <div class="hero-ctas">
          <button class="btn btn-primary" onclick="scrollToSection('#picture-app')">Get my PFP</button>
          <button class="btn btn-ghost" onclick="scrollToSection('#wheel-game')">Spin the Wheel</button>
        </div>

        <div class="hero-meta">
          <span>üéÑ <strong>$DSANTA</strong> holders unlock perks</span>
          <span>üéÅ PFP Lab ¬∑ NFT Mint ¬∑ On-chain Wheel</span>
        </div>
      </div>

      <aside class="hero-card">
        <div class="hero-card-inner">
          <div>
            <div class="ca-label">Contract Address</div>
            <div class="ca-box" id="caBox" title="Click to copy">
              <!-- Replace with real CA when ready -->
              <span id="caText">CA PENDING ‚Äì COMING SOON</span>
              <span>üìã</span>
            </div>
          </div>

          <div style="display:flex; flex-wrap:wrap; gap:8px; margin-top:10px;">
            <span class="badge-pill">Solana ¬∑ SPL Token</span>
            <span class="badge-pill">Holder perks @ 150,000 $DSANTA</span>
          </div>

          <div class="hero-links" style="margin-top:12px;">
            <!-- Replace href with real links when ready -->
            <a href="#" target="_blank" rel="noopener">üìà View Chart</a>
            <a href="#" target="_blank" rel="noopener">üõí Buy $DSANTA</a>
            <a href="#nft-collection">üßä NFT Collection</a>
          </div>

          <p style="font-size:11px; color:var(--muted); margin-top:10px;">
            Tip: click the CA to copy it to your clipboard and ape safely.
          </p>
        </div>
      </aside>
    </section>

    <!-- PICTURE WITH DANK SANTA APP -->
    <section id="picture-app">
      <div class="section-header">
        <div>
          <div class="section-tag">Holder Utility</div>
          <h2>Picture with Dank Santa PFP Lab üéÖ</h2>
        </div>
        <p>Upload your photo, let the elves work, and export a PFP-ready shot with Dank Santa.</p>
      </div>

      <div class="section-card">
        <div class="section-card-inner">
          <div class="picture-grid">
            <div class="picture-controls">
              <div class="pill-row">
                <span class="pill">Requires wallet connection</span>
                <span class="pill">Min balance: 150,000 $DSANTA</span>
              </div>

              <div class="upload-box" id="uploadBox">
                <p style="margin:0 0 4px;"><strong>Upload your photo</strong></p>
                <p style="margin:0; font-size:12px; color:var(--muted);">
                  Face-forward selfie works best. JPG or PNG under 10MB.
                </p>
                <button class="btn btn-ghost" style="margin-top:10px;" id="uploadBtn">
                  Choose file
                </button>
                <input type="file" id="fileInput" accept="image/*" />
                <div class="upload-hint" id="uploadHint">No file selected yet.</div>
              </div>

              <div class="field-row">
                <label>Style:</label>
                <select
                  id="pfpStyle"
                  style="background:#060a20; border-radius:999px; border:1px solid rgba(255,255,255,0.2); padding:6px 10px; color:var(--text);"
                >
                  <option value="classic">Classic Dank Santa</option>
                  <option value="icy">Icy Halo Santa</option>
                  <option value="golden">Golden Star Halo</option>
                  <option value="stunner">Dank sunglasses edition</option>
                </select>
              </div>

              <button class="btn btn-primary" id="generatePfpBtn">
                Generate my PFP with Dank Santa
              </button>

              <div class="status-text" id="pfpStatus">
                Connect your wallet and hold 150,000 $DSANTA to unlock.
              </div>

              <p style="font-size:11px; color:var(--muted); margin-top:4px;">
                Note: this button should call your backend AI endpoint.<br />
                Example: <code>POST /api/dank-santa/pfp</code> with the image + wallet address.
              </p>
            </div>

            <div class="picture-preview" id="picturePreview">
              <span style="font-size:13px; color:var(--muted); text-align:center; padding:0 10px;">
                Your generated PFP will appear here. Right-click / long-press to save and flex it as your avatar.
              </span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- NFT COLLECTION SECTION -->
    <section id="nft-collection">
      <div class="section-header">
        <div>
          <div class="section-tag">NFT Collection</div>
          <h2>Dank Santa NFT Drop üéÅ</h2>
        </div>
        <p>Mint your spot on the list and flex your festive degeneracy in glorious PFP form.</p>
      </div>

      <div class="section-card">
        <div class="section-card-inner nft-layout">
          <div>
            <div class="nft-links">
              <!-- TODO: replace with real links -->
              <a class="btn btn-ghost" href="#" target="_blank" rel="noopener">üöÄ Public Mint on launchmynft</a>
              <a class="btn btn-primary" href="#" target="_blank" rel="noopener">üéÅ Holder Free Mint Claim</a>
            </div>
            <p class="nft-note">
              Holders of 150,000+ $DSANTA get 1 free mint (one per wallet). Link your wallet and claim,
              then trade or hodl your favorite trait combos.
            </p>
            <ul style="font-size:12px; color:var(--muted); margin-top:8px; padding-left:18px;">
              <li>Elves, icy halos, golden crowns &amp; dank accessories</li>
              <li>Rarity-based airdrops and wheel-boosts for specific traits</li>
              <li>Future utility hooks (raffles, boosts, allowlists)</li>
            </ul>
          </div>

          <div>
            <div class="section-tag" style="margin-bottom:6px;">Recently Minted</div>
            <div class="nft-grid" id="recentMintsGrid">
              <!-- Example placeholder cards; replace with real data -->
              <div class="nft-card">
                <img src="https://placehold.co/300x300/f33/fff?text=DS+001" alt="NFT 1" />
                <div class="nft-card-body">
                  <div class="nft-card-title">#001 ¬∑ Icy Halo</div>
                  <div class="nft-card-owner">Owner: 8HkK...d9Fs</div>
                </div>
              </div>
              <div class="nft-card">
                <img src="https://placehold.co/300x300/3f3/fff?text=DS+002" alt="NFT 2" />
                <div class="nft-card-body">
                  <div class="nft-card-title">#002 ¬∑ Candy Cane Crown</div>
                  <div class="nft-card-owner">Owner: 6DqP...z1Lx</div>
                </div>
              </div>
              <div class="nft-card">
                <img src="https://placehold.co/300x300/33f/fff?text=DS+003" alt="NFT 3" />
                <div class="nft-card-body">
                  <div class="nft-card-title">#003 ¬∑ Dank Glasses</div>
                  <div class="nft-card-owner">Owner: 3PwR...k7Na</div>
                </div>
              </div>
            </div>
            <p class="nft-note" style="margin-top:8px;">
              In production, this grid should pull live data from your mint API / LaunchMyNFT webhook.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- NAUGHTY / NICE / DANK WHEEL GAME -->
    <section id="wheel-game">
      <div class="section-header">
        <div>
          <div class="section-tag">On-chain Game</div>
          <h2>Naughty, Nice or DANK Wheel üé°</h2>
        </div>
        <p>Bet $DSANTA. Naughty gets nothing, Nice doubles, DANK goes 5√ó.</p>
      </div>

      <div class="section-card">
        <div class="section-card-inner wheel-layout">

          <!-- WHEEL VISUAL -->
          <div class="wheel-container">
            <div class="wheel-outer">
              <div class="wheel-inner" id="wheelInner"></div>
              <div class="wheel-center">SPIN</div>
              <div class="wheel-tick"></div>
              <div class="wheel-labels">
                <span class="lbl-naughty">NAUGHTY</span>
                <span class="lbl-nice">NICE</span>
                <span class="lbl-dank">DANK</span>
              </div>
            </div>

            <div id="wheelResultPop" class="wheel-result-pop"></div>
          </div>

          <!-- CONTROLS + BANNER -->
          <div class="wheel-controls">
            <div class="field-row">
              <label for="wagerInput">Wager Amount:</label>
              <input type="number" min="1" step="1" id="wagerInput" placeholder="e.g. 10" />
              <span style="font-size:12px;">$DSANTA</span>
            </div>

            <div class="field-row">
              <span class="mode-pill" id="modePill">Demo Mode ¬∑ Connect wallet to play for real $DSANTA</span>
            </div>

            <div class="field-row">
              <button class="btn btn-primary" id="spinBtn">Spin the wheel</button>
              <button class="btn btn-ghost" id="demoToggleBtn">Toggle Demo / Real</button>
            </div>

            <div class="wheel-status" id="wheelStatus">
              In demo mode, results are simulated client-side. In real mode, call backend + on-chain tx here.
            </div>

            <div class="wheel-payouts" style="margin-top:10px;">
              <strong>Payout logic:</strong>
              <ul style="margin:4px 0 0 18px; padding:0;">
                <li>Naughty ‚Äì lose wager (0√ó)</li>
                <li>Nice ‚Äì win 2√ó wager (profit 1√ó)</li>
                <li>Dank ‚Äì win 5√ó wager (profit 4√ó, lowest odds)</li>
              </ul>
              <p style="margin-top:4px;">
                In production, use a provably-fair backend, sign wagers on-chain, and settle in $DSANTA.
              </p>
              <div class="fairness-box">
                <div class="fairness-header">Provably fair (example stub)</div>
                <p>
                  Every spin is derived from a verifiable server seed + client seed + nonce.
                  After a round, you can check the hash and recompute the result yourself.
                </p>
                <button class="btn btn-ghost" id="fairnessBtn">Show example proof</button>
                <pre id="fairnessDetails" class="fairness-details" hidden>
              serverSeedHash:  0xabc123...
              clientSeed:      wallet: 8HkK...d9Fs
              nonce:           42
              spinResult:      "nice"
                </pre>
                <p style="margin-top:4px;">
                  In production, fetch this from <code>/api/wheel/proof</code> with the spin ID.
                </p>
              </div>

            <!-- SCROLLING BANNER -->
            <div class="banner">
              <div class="banner-track" id="bannerTrack">
                <!-- Populated via JS -->
              </div>
            </div>
          </div>

        </div>
      </div>
    </section>

    <footer>
      Background music, click effects, and all games are for festive, degen fun only. Gamble responsibly. üéÑ
    </footer>
  </main>

  <!-- BACKGROUND HOLIDAY MUSIC (supply your own mp3) -->
  <audio id="bgMusic" loop>
    <!-- Replace with your own file path -->
    <source src="assets/dank-santa-theme.mp3" type="audio/mpeg" />
  </audio>

</body>
</html>
